<div
  class="sky-padding-even-large"
>
  <h1>
    Single file attachment visual tests
  </h1>
  <div
    class="sky-margin-stacked-default sky-border-bottom-dark"
  >
    <h3>Options</h3>
    <div
      class="sky-margin-stacked-default"
    >
      <sky-docs-demo-control-panel-theme
        (themeSettingsChange)="themeSettingsChange($event)"
      ></sky-docs-demo-control-panel-theme>
    </div>
    <div
      class="sky-margin-stacked-default"
    >
      <p
        class="sky-emphasized"
      >
        Form control states
      </p>
      <button
        class="sky-btn sky-btn-default sky-margin-inline-default"
        id="toggleLabel"
        type="button"
        (click)="showLabel = !showLabel"
      >
        Toggle label
      </button>
      <button
        type="button"
        class="sky-btn sky-btn-default sky-margin-inline-default"
        (click)="required = !required"
      >
        Toggle required
      </button>
      <button
        type="button"
        class="sky-btn sky-btn-default"
        (click)="onToggleDisabledClick()"
      >
        Toggle disabled
      </button>
    </div>
  </div>

  <form
    novalidate
    [formGroup]="singleFileAttachmentForm"
  >
    <h2>Default state</h2>
    <div
      class="sky-padding-even-large"
      id="screenshot-single-file-attachment"
      style="width: 400px;"
    >
      <sky-file-attachment
        formControlName="attachment"
        [required]="required"
        [validateFn]="validateFile"
      >
        <sky-file-attachment-label
          *ngIf="showLabel"
        >
          Field Label
        </sky-file-attachment-label>
      </sky-file-attachment>
      <div *ngIf="attachment?.invalid && attachment?.dirty"
        class="sky-error-label"
      >
        Attach a file.
      </div>
    </div>

    <div
      class="app-test-output"
    >
      <table>
        <thead>
          <tr>
            <th
              colspan="2"
            >
              Form control values
            </th>
          </tr>
        </thead>
        <tr>
          <th>Touched</th>
          <td>{{ singleFileAttachmentForm.touched }}</td>
        </tr>
        <tr>
          <th>Pristine</th>
          <td>{{ singleFileAttachmentForm.pristine }}</td>
        </tr>
        <tr>
          <th>Valid</th>
          <td>{{ singleFileAttachmentForm.valid }}</td>
        </tr>
        <tr>
          <th>Value</th>
          <td>{{ singleFileAttachmentForm.value.attachment?.file.name || 'Nothing selected...' }}</td>
        </tr>
      </table>
    </div>

    <h2>Image uploaded</h2>
    <div
      class="sky-padding-even-large"
      id="screenshot-single-file-attachment-image"
      style="width: 400px;"
    >
      <sky-file-attachment
        formControlName="attachmentImageUploaded"
        [required]="required"
      >
        <sky-file-attachment-label
          *ngIf="showLabel"
        >
          Upload image
        </sky-file-attachment-label>
      </sky-file-attachment>
      <div *ngIf="attachment?.invalid && attachment?.dirty"
        class="sky-error-label"
      >
        Attach a file.
      </div>
    </div>

    <h2>File uploaded</h2>
    <div
      class="sky-padding-even-large"
      id="screenshot-single-file-attachment-file"
      style="width: 400px;"
    >
      <sky-file-attachment
        formControlName="attachmentFileUploaded"
        [required]="required"
      >
        <sky-file-attachment-label
          *ngIf="showLabel"
        >
          Upload file
        </sky-file-attachment-label>
      </sky-file-attachment>
      <div *ngIf="attachment?.invalid && attachment?.dirty"
        class="sky-error-label"
      >
        Attach a file.
      </div>
    </div>
  </form>

  <h2>
    Template-driven
  </h2>
  <div
    class="sky-padding-even-large"
    style="width: 400px;"
  >
    <sky-file-attachment
      [disabled]="disabled"
      [required]="required"
      [validateFn]="validateFile"
      [(ngModel)]="fileValue"
      #file="ngModel"
    >
      <sky-file-attachment-label
        *ngIf="showLabel"
      >
        Field Label
      </sky-file-attachment-label>
    </sky-file-attachment>
    <div *ngIf="file?.invalid && file?.dirty"
      class="sky-error-label"
    >
      Attach a file.
    </div>
  </div>

  <div
    class="app-test-output"
  >
    <table>
      <thead>
        <tr>
          <th
            colspan="2"
          >
            Form control values
          </th>
        </tr>
      </thead>
      <tr>
        <th>Touched</th>
        <td>{{ file.touched }}</td>
      </tr>
      <tr>
        <th>Pristine</th>
        <td>{{ file.pristine }}</td>
      </tr>
      <tr>
        <th>Valid</th>
        <td>{{ file.valid }}</td>
      </tr>
      <tr>
        <th>Value</th>
        <td>{{ fileValue?.file.name || 'Nothing selected...' }}</td>
      </tr>
      <tr>
        <th>Errors</th>
        <td>{{ fileValue?.errorType }}</td>
      </tr>
    </table>
  </div>
</div>
