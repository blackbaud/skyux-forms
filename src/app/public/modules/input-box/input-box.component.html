<ng-container
  *ngIf="
    (themeSvc.settingsChange | async)?.currentSettings?.theme?.name === 'modern';
    then modernTemplate else defaultTemplate
  "
></ng-container>

<ng-template #defaultTemplate>
  <div class="sky-input-box">
    <div class="sky-form-group">
      <ng-container *ngTemplateOutlet="label"></ng-container>
      <div class="sky-input-group">
        <ng-container *ngTemplateOutlet="inputTemplate"></ng-container>
        <ng-container *ngTemplateOutlet="buttonsTemplate"></ng-container>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #modernTemplate>
  <div class="sky-input-box">
    <div class="sky-input-box-group">
      <div
        class="sky-input-box-group-form-control"
        [ngClass]="{
          'sky-input-box-group-form-control-focus': formControlHasFocus
        }"
        (focusin)="formControlFocusIn()"
        (focusout)="formControlFocusOut()"
      >
        <div class="sky-form-group">
          <ng-container *ngTemplateOutlet="label"></ng-container>
          <ng-container *ngTemplateOutlet="inputTemplate"></ng-container>
        </div>
      </div>
      <ng-container *ngTemplateOutlet="buttonsTemplate"></ng-container>
    </div>
  </div>
</ng-template>

<ng-template #label>
  <ng-content select="label"></ng-content>
</ng-template>

<ng-template #inputTemplate>
  <ng-content select=".sky-form-control"></ng-content>
  <ng-template *ngTemplateOutlet="hostInputTemplate"></ng-template>
</ng-template>

<ng-template #buttonsTemplate>
  <ng-content select=".sky-input-group-btn"></ng-content>
  <ng-container *ngTemplateOutlet="hostButtonsTemplate"></ng-container>
</ng-template>
